<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel= "stylesheet" href= "style.css">

    <title>Password Generator</title>
</head>
<body>
    <header>
        <div class= "container">
        <h1 class= "header">Password Generator</h1>
        </div>
    </header>

    <section>
        <div>
         <div class="card-body">
            <h2 class="card-title">Generate a Password</h2>
            <textarea disabled class="form-control" id="box" style="margin: 0px; width: 600px; height: 160px;"></textarea>              
              <br>
              <div class= "button">
              <button id= "btnGen">Generate</button>
              </div>
              <div>
              <button disabled id="btnCopy">Copy to Clipboard</button>
              </div> 
            </div>
         </div>
    </section>

<script>  
var specialChar = ['!', '#', '$', '%', '&', '(', ')', '*', '+', '-', '"', '.', '/', ':', ';', '<', '=', '>', '?', '@', '[', ']', '^', '_', '`', '{', '|', '}', '~'];
var lowerCase = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"];
var upperCase = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"];
var nums = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9'];
var count;
var arr = [];

    document.getElementById("btnGen").addEventListener("click", function() {
        length()
    });    
    
    function length() {
    count = prompt("How long would you like your password to be? Please pick between 8 - 128 characters.");
    if (count > 128){
        alert("Password must be less than 128 characters, please!");
        length()
    }    
    else if (count < 8){
        alert("Password must be more than 8 characters, please!");
        length();
    }
        else {
            character ();
        }

    }
    function character (){
        if(confirm("Would you like to use special characters?")){
            arr.push(specialChar);
        }
        if (confirm("Would you like to use uppercase characters?")){
            arr.push(upperCase);
        }
        if(confirm("Would you like to use lowercase characters?")){
            arr.push(lowerCase);
        }
        if(confirm("Would you like to use numbers?")){
            arr.push(nums)
        }
        if(arr.length < 2) {
            alert("Please select at least 2 character types!")
            character();
        }
        else {
            btnGen(arr, count);
        }
    }

    function btnGen(arr, passwordLength){
        password = ' '
        passwordLength = parseInt(passwordLength)
        for (var p = 0; p < passwordLength; p++){
            var whichArr = Math.floor(Math.random() * arr.length)
        console.log(arr, whichArr);
        password += arr[whichArr][Math.floor(Math.random() * arr[whichArr].length)];
        console.log(password);
        
        } 
    // document.getElementsByClassName('form-control').appendchild(password);
    // document.getElementById("box").innerHTML = appendChild(password);
        // return(password);
        document.getElementById('box').value = password;
    // textBox.append(password);

    }
        
    function btnCopy() {

    }
 

    

 
</script>

</body>
</html>